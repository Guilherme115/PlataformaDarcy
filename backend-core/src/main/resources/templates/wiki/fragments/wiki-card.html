<!-- Wiki Card Fragment - Neo-Brutalist Style -->
<th:block th:fragment="card(post)">
    <a th:href="@{/wiki/{id}(id=${post.id})}" class="wiki-card block w-72 shrink-0 group">
        <div class="poster relative">
            <img th:if="${post.thumbnail != null}" th:src="${post.thumbnail}" class="w-full h-full object-cover" alt="">
            <div th:if="${post.thumbnail == null}" class="w-full h-full flex items-center justify-center bg-gray-100">
                <i data-lucide="file-text" class="w-12 h-12 text-gray-300 group-hover:text-darcy-yellow transition"></i>
            </div>
            <div class="absolute top-2 left-2">
                <span class="badge-tipo" th:classappend="'badge-' + ${post.tipoConteudo.name().toLowerCase()}"
                    th:text="${post.tipoConteudo}">ARTIGO</span>
            </div>
            <div th:if="${post.etapa != null}" class="absolute top-2 right-2">
                <span class="bg-white text-black text-[9px] font-black px-2 py-0.5 border-2 border-black"
                    th:text="'PAS ' + ${post.etapa}">PAS 1</span>
            </div>
        </div>
        <div class="p-4 bg-white">
            <div class="text-[10px] font-mono font-bold uppercase text-gray-400 mb-1" th:text="${post.disciplina}">
                HISTÓRIA</div>
            <h3 class="font-bold text-sm line-clamp-2 mb-3 group-hover:text-darcy-red transition"
                th:text="${post.titulo}">Título do Conteúdo</h3>
            <div
                class="flex justify-between items-center text-[10px] font-mono border-t-2 border-dashed border-gray-200 pt-2">
                <span class="text-gray-500" th:text="${post.autor?.nome ?: 'Anônimo'}">Autor</span>
                <div class="flex items-center gap-3 text-gray-400">
                    <span class="flex items-center gap-1"><i data-lucide="eye" class="w-3 h-3"></i> <span
                            th:text="${post.visualizacoes}">0</span></span>
                    <span class="flex items-center gap-1"><i data-lucide="heart" class="w-3 h-3"></i> <span
                            th:text="${post.curtidas}">0</span></span>
                </div>
            </div>
        </div>
    </a>
</th:block>